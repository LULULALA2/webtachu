{% extends 'base.html' %}



{% block title %}
    장르 페이지
{% endblock %}

{% block content %}


    <div class="main_box main_border">
        <div class="title_text">
            &nbsp&nbsp현판
        </div>
        <div class="count_box">
            총 {{ pages | length }}개의 작품
        </div>
        {% for page in pages %}
            <div class="content_box display_flex" style="margin: auto">
                <div class="cover_image"><img src="{{ page.cover }}"></div>
                <div>
                    <div class="title_font" style="margin-bottom: 10px">
                        {{ page.title }}
                    </div>
                    <div class="display_flex">
                        <div class="star-ratings">
                            <div
                                    class="star-ratings-fill space-x-2 text-lg"
                                    :style="{ width: ratingToPercent + '%' }"
                            >
                                <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                            </div>
                            <div class="star-ratings-base space-x-2 text-lg">
                                <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                            </div>
                        </div>
                        <div style="margin-bottom: 10px">&nbsp| {{ page.author }} | {{ page.publisher }}</div>
                    </div>
                    <div>
                        {#                       |truncatechars:200 글자수 제한 코드 #}
                        {{ page.story |truncatechars:120 }}
                    </div>
                </div>
            </div>
            <hr>
        {% endfor %}



        <div style="text-align: center">
            {% if pages.has_previous %}
                <a href='?page={{ pages.number|add:-1 }}'>Previous</a>
            {% endif %}

            Page {{ pages.number }} of {{ pages.paginator.num_pages }}

            {% if pages.has_next %}
                <a href='?page={{ pages.number|add:+1 }}'>Next</a>
            {% endif %}
        </div>


    </div>
{% endblock %}




